{"ast":null,"code":"const ordersReducer = (state = {\n  orders: {}\n}, action) => {\n  switch (action.type) {\n    case \"SETORDERS\":\n      const {\n        user,\n        item,\n        quantity\n      } = action.payload;\n      const userOrders = {\n        ...state.orders\n      };\n      if (!userOrders[user]) {\n        userOrders[user] = [];\n      }\n      const existingItemIndex = userOrders[user].findIndex(order => order.item._id === item._id);\n      if (existingItemIndex !== -1) {\n        userOrders[user][existingItemIndex].quantity += quantity;\n      } else {\n        userOrders[user].push({\n          item,\n          quantity\n        });\n      }\n      return {\n        ...state,\n        orders: userOrders\n      };\n    case \"REMOVEORDER\":\n      const {\n        userId,\n        itemId\n      } = action.payload;\n      const updatedOrders = {\n        ...state.orders\n      };\n      if (updatedOrders[userId]) {\n        updatedOrders[userId] = updatedOrders[userId].filter(order => order.item._id !== itemId);\n      }\n      return {\n        ...state,\n        orders: updatedOrders\n      };\n    case \"CLEARUSERORDERS\":\n      const userIdToRemove = action.payload;\n      const filteredOrders = {};\n      for (const userId in state.orders) {\n        if (userId !== userIdToRemove) {\n          filteredOrders[userId] = state.orders[userId];\n        }\n      }\n      return {\n        ...state,\n        orders: filteredOrders\n      };\n    default:\n      return state;\n  }\n};\nexport default ordersReducer;","map":{"version":3,"names":["ordersReducer","state","orders","action","type","user","item","quantity","payload","userOrders","existingItemIndex","findIndex","order","_id","push","userId","itemId","updatedOrders","filter","userIdToRemove","filteredOrders"],"sources":["C:/Users/Youcode/Documents/GitHub/SB-Project/frontend/src/redux/reducers/ordersReducer.js"],"sourcesContent":["const ordersReducer = (state = { orders: {} }, action) => {\r\n  switch (action.type) {\r\n    case \"SETORDERS\":\r\n      const { user, item, quantity } = action.payload;\r\n      const userOrders = { ...state.orders };\r\n\r\n      if (!userOrders[user]) {\r\n        userOrders[user] = [];\r\n      }\r\n\r\n      const existingItemIndex = userOrders[user].findIndex(\r\n        (order) => order.item._id === item._id\r\n      );\r\n\r\n      if (existingItemIndex !== -1) {\r\n        userOrders[user][existingItemIndex].quantity += quantity;\r\n      } else {\r\n        userOrders[user].push({ item, quantity });\r\n      }\r\n\r\n      return { ...state, orders: userOrders };\r\n\r\n    case \"REMOVEORDER\":\r\n      const { userId, itemId } = action.payload;\r\n      const updatedOrders = { ...state.orders };\r\n\r\n      if (updatedOrders[userId]) {\r\n        updatedOrders[userId] = updatedOrders[userId].filter(\r\n          (order) => order.item._id !== itemId\r\n        );\r\n      }\r\n\r\n      return { ...state, orders: updatedOrders };\r\n\r\n    case \"CLEARUSERORDERS\":\r\n      const userIdToRemove = action.payload;\r\n      const filteredOrders = {};\r\n      for (const userId in state.orders) {\r\n        if (userId !== userIdToRemove) {\r\n          filteredOrders[userId] = state.orders[userId];\r\n        }\r\n      }\r\n      return { ...state, orders: filteredOrders };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ordersReducer;\r\n"],"mappings":"AAAA,MAAMA,aAAa,GAAGA,CAACC,KAAK,GAAG;EAAEC,MAAM,EAAE,CAAC;AAAE,CAAC,EAAEC,MAAM,KAAK;EACxD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,WAAW;MACd,MAAM;QAAEC,IAAI;QAAEC,IAAI;QAAEC;MAAS,CAAC,GAAGJ,MAAM,CAACK,OAAO;MAC/C,MAAMC,UAAU,GAAG;QAAE,GAAGR,KAAK,CAACC;MAAO,CAAC;MAEtC,IAAI,CAACO,UAAU,CAACJ,IAAI,CAAC,EAAE;QACrBI,UAAU,CAACJ,IAAI,CAAC,GAAG,EAAE;MACvB;MAEA,MAAMK,iBAAiB,GAAGD,UAAU,CAACJ,IAAI,CAAC,CAACM,SAAS,CACjDC,KAAK,IAAKA,KAAK,CAACN,IAAI,CAACO,GAAG,KAAKP,IAAI,CAACO,GACrC,CAAC;MAED,IAAIH,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5BD,UAAU,CAACJ,IAAI,CAAC,CAACK,iBAAiB,CAAC,CAACH,QAAQ,IAAIA,QAAQ;MAC1D,CAAC,MAAM;QACLE,UAAU,CAACJ,IAAI,CAAC,CAACS,IAAI,CAAC;UAAER,IAAI;UAAEC;QAAS,CAAC,CAAC;MAC3C;MAEA,OAAO;QAAE,GAAGN,KAAK;QAAEC,MAAM,EAAEO;MAAW,CAAC;IAEzC,KAAK,aAAa;MAChB,MAAM;QAAEM,MAAM;QAAEC;MAAO,CAAC,GAAGb,MAAM,CAACK,OAAO;MACzC,MAAMS,aAAa,GAAG;QAAE,GAAGhB,KAAK,CAACC;MAAO,CAAC;MAEzC,IAAIe,aAAa,CAACF,MAAM,CAAC,EAAE;QACzBE,aAAa,CAACF,MAAM,CAAC,GAAGE,aAAa,CAACF,MAAM,CAAC,CAACG,MAAM,CACjDN,KAAK,IAAKA,KAAK,CAACN,IAAI,CAACO,GAAG,KAAKG,MAChC,CAAC;MACH;MAEA,OAAO;QAAE,GAAGf,KAAK;QAAEC,MAAM,EAAEe;MAAc,CAAC;IAE5C,KAAK,iBAAiB;MACpB,MAAME,cAAc,GAAGhB,MAAM,CAACK,OAAO;MACrC,MAAMY,cAAc,GAAG,CAAC,CAAC;MACzB,KAAK,MAAML,MAAM,IAAId,KAAK,CAACC,MAAM,EAAE;QACjC,IAAIa,MAAM,KAAKI,cAAc,EAAE;UAC7BC,cAAc,CAACL,MAAM,CAAC,GAAGd,KAAK,CAACC,MAAM,CAACa,MAAM,CAAC;QAC/C;MACF;MACA,OAAO;QAAE,GAAGd,KAAK;QAAEC,MAAM,EAAEkB;MAAe,CAAC;IAE7C;MACE,OAAOnB,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}